[ { "react": "import { useNavigate" }, { "../utils/api": "import { t" }, { "type": ", text:" }, ["profile, setProfile] = useState({\n    full_name: '',\n    email: '',\n    bio: '',\n    location: '',\n    skills: [],\n    resume_url: '',\n    language: 'en',\n  });\n\n  // Available skills for selection\n  const availableSkills = [\n    // Technical Skills\n    'Python', 'JavaScript', 'React', 'Node.js', 'SQL', 'Data Analysis',\n    'Machine Learning', 'Cloud Computing', 'DevOps', 'Docker', 'Kubernetes',\n    'AWS', 'Azure', 'GCP', 'Linux', 'Git', 'REST APIs', 'GraphQL',\n\n    // Green Skills\n    'Solar Energy', 'Wind Energy', 'Hydro Power', 'Biomass', 'Geothermal',\n    'Energy Efficiency', 'Carbon Footprint Analysis', 'ESG Reporting',\n    'Sustainable Design', 'Green Building', 'LEED Certification',\n    'Waste Management', 'Recycling', 'Water Conservation',\n    'Environmental Impact Assessment', 'Climate Change Mitigation',\n    'Renewable Energy Systems', 'Electric Vehicles', 'Battery Technology',\n    'Smart Grid', 'Energy Storage', 'Carbon Trading', 'Sustainability Consulting',\n\n    // Soft Skills\n    'Communication', 'Leadership', 'Problem Solving', 'Teamwork',\n    'Project Management', 'Critical Thinking', 'Adaptability',\n    'Time Management', 'Creativity', 'Analytical Skills',\n  ];\n\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n\n  const fetchProfile = async () => {\n    try {\n      const response = await userAPI.getProfile();\n      setProfile({\n        full_name: response.data.full_name || '',\n        email: response.data.email || '',\n        bio: response.data.bio || '',\n        location: response.data.location || '',\n        skills: response.data.skills || [],\n        resume_url: response.data.resume_url || '',\n        language: response.data.language || 'en',\n      });\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      setMessage({ type: 'error', text: 'Failed to load profile' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setProfile(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSkillToggle = (skill) => {\n    setProfile(prev => {\n      const newSkills = prev.skills.includes(skill)\n        ? prev.skills.filter(s => s !== skill)\n        : [...prev.skills, skill];\n      return { ...prev, skills: newSkills };\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    setMessage({ type: '', text: '' });\n\n    try {\n      await userAPI.updateProfile({\n        full_name: profile.full_name,\n        bio: profile.bio,\n        location: profile.location,\n        language: profile.language,\n      });\n\n      // Update skills separately - send array directly, not object\n      if (profile.skills.length > 0) {\n        await userAPI.updateSkills(profile.skills);\n      }\n\n      setMessage({ type: 'success', text: t('Profile updated successfully!') });\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      setMessage({ type: 'error', text: t('Failed to update profile') });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleResumeUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await userAPI.uploadResume(formData);\n      setProfile(prev => ({ ...prev, resume_url: response.data.resume_url }));\n      setMessage({ type: 'success', text: t('Resume uploaded successfully!') });\n    } catch (error) {\n      console.error('Error uploading resume:', error);\n      setMessage({ type: 'error', text: t('Failed to upload resume') });\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">{t('Loading...')}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex-1 bg-gray-50 py-8 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">{t('My Profile')}</h1>\n          <p className=\"mt-2 text-gray-600\">{t('Manage your profile and skills')}</p>\n        </div>\n\n        {/* Message */}\n        {message.text && (\n          <div className={`mb-6 p-4 rounded-lg ${\n            message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n          }`}>\n            {message.text}\n          </div>\n        )}\n\n        {/* Profile Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Basic Information */}\n          <div className=\"bg-white rounded-lg p-6 border border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              {t('Basic Information')}\n            </h2>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Full Name */}\n              <div>\n                <label htmlFor=\"full_name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {t('Full Name')}\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"full_name\"\n                  name=\"full_name\"\n                  value={profile.full_name}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                  required\n                />\n              </div>\n\n              {/* Email (Read-only) */}\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {t('Email Address')}\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  value={profile.email}\n                  disabled\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed\"\n                />\n              </div>\n\n              {/* Location */}\n              <div>\n                <label htmlFor=\"location\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {t('Location')}\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"location\"\n                  name=\"location", "value= { profile.location }\n                  onChange= { handleChange }\n                  placeholder= { t('Enter your location') || 'e.g., Mumbai, India' }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                />\n              </div>\n\n { /* Language */ }\n              <div>\n                <label htmlFor=\"language\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n { t('Preferred Language') }\n                </label>\n                <select\n                  id=\"language\"\n                  name=\"language\"\n                  value= { profile.language }\n                  onChange= { handleChange }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                >\n                  <option value=\"en\">English</option>\n                  <option value=\"hi\">\u0939\u093f\u0902\u0926\u0940 (Hindi)</option>\n                  <option value=\"ta\">\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (Tamil)</option>\n                  <option value=\"te\">\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41 (Telugu)</option>\n                  <option value=\"bn\">\u09ac\u09be\u0982\u09b2\u09be (Bengali)</option>\n                  <option value=\"mr\">\u092e\u0930\u093e\u0920\u0940 (Marathi)</option>\n                </select>\n              </div>\n            </div>\n\n { /* Bio */ }\n            <div className=\"mt-6\">\n              <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n { t('About Me') }\n              </label>\n              <textarea\n                id=\"bio\"\n                name=\"bio\"\n                value= { profile.bio }\n                onChange= { handleChange }\n                rows= { 4 }\n                placeholder= { t('Tell us about yourself...') }\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n              />\n            </div>\n          </div>\n\n { /* Skills */ }\n          <div className=\"bg-white rounded-lg p-6 border border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n { t('Skills') }\n            </h2>\n            <p className=\"text-sm text-gray-600 mb-4\">\n { t('Select your skills from list below') }\n            </p>\n\n { /* Selected Skills */ }\n { profile.skills.length > 0 && (\n              <div className=\"mb-4\">\n                <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\n { t('Selected Skills') } ({ profile.skills.length })\n                </h3>\n                <div className=\"flex flex-wrap gap-2\">\n { profile.skills.map(skill => (\n                    <span\n                      key= { skill }\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800\"\n                    >\n { skill }\n                      <button\n                        type=\"button\"\n                        onClick= { () = > handleSkillToggle(skill) }\n                        className=\"ml-2 text-emerald-600 hover:text-emerald-800\"\n                      >\n                        \u00d7\n                      </button>\n                    </span>\n                  )) }\n                </div>\n              </div>\n            ) }\n\n { /* Available Skills */ }\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\n { t('Available Skills') }\n              </h3>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-64 overflow-y-auto\">\n { availableSkills.map(skill => (\n                  <button\n                    key= { skill }\n                    type=\"button\"\n                    onClick= { () = > handleSkillToggle(skill) }\n                    className= { `px-3 py-2 text-sm rounded-lg border transition-colors ${\n                      profile.skills.includes(skill)\n                        ? 'bg-emerald-600 text-white border-emerald-600'\n                        : 'bg-white text-gray-700 border-gray-300 hover:border-emerald-500'\n                    }`}\n                  >\n { skill }\n                  </button>\n                )) }\n              </div>\n            </div>\n          </div>\n\n { /* Resume */ }\n          <div className=\"bg-white rounded-lg p-6 border border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n { t('profile.resume') || 'Resume' }\n            </h2>\n\n { profile.resume_url ? (\n              <div className=\"flex items-center justify-between p-4 bg-green-50 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <svg className=\"w-8 h-8 text-green-600 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth= { 2 } d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                  <div>\n                    <p className=\"text-sm font-medium text-green-800\"> { t('Resume uploaded') }</p>\n                    <a href= { profile.resume_url } target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm text-green-600 hover:underline\">\n { t('View resume') }\n                    </a>\n                  </div>\n                </div>\n                <label className=\"cursor-pointer px-4 py-2 bg-white text-green-600 border border-green-600 rounded-lg hover:bg-green-50 transition-colors\">\n { t('Update Resume') }\n                  <input type=\"file\" accept=", ".", "pdf, .doc, .docx\" onChange={handleResumeUpload} className=\"hidden\" />\n                </label>\n              </div>\n            ) : (\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center\">\n                <svg className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                </svg>\n                <p className=\"text-sm text-gray-600 mb-4", {"className=": "ursor-pointer px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors", "accept=": "pdf", "doc, .docx": "nChange= { handleResumeUpload"}, "className=\"hidden\" />\n                </label>\n              </div>\n            ) }\n          </div>\n\n { /* Submit Button */ }\n          <div className=\"flex justify-end space-x-4\">\n            <button\n              type=\"button\"\n              onClick= { () = > navigate('/') }\n              className=\"px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n { t('Cancel') }\n            </button>\n            <button\n              type=\"submit\"\n              disabled= { saving }\n              className=\"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n { saving ? (t('Saving...')) : (t('Save Profile')) }\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  ); \n }; \n\nexport default Profile; \n'@\n\nSet-Content -Path \"apps/web/src/pages/Profile.jsx\" -Value $content -Encoding UTF8\nWrite-Host \"Profile.jsx file fixed successfully!"]]